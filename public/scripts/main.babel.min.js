"use strict";var dateCooked=function dateCooked(d){var c=new Date(d);var a=new Date();var b=a-c;if(b<3600000){return Math.round(b/60000)+" minutes ago"}else{if(b<86400000){return Math.round(b/3600000)+" hours ago"}else{if(b<604800000){return Math.round(b/86400000)+" days ago"}else{return c.toLocaleDateString()}}}};var backendURL="http://chrischia.info:3000/newsBing";var TableBox=React.createClass({displayName:"TableBox",getInitialState:function getInitialState(){return{data:undefined}},componentDidMount:function componentDidMount(){this.serverRequest=$.ajax({url:this.props.url,dataType:"json",cache:true,timeout:5000,success:function(a){this.setState({data:a})}.bind(this),error:function(c,a,b){console.error(this.props.url,a,b.toString())}.bind(this)})},componentWillUnmount:function componentWillUnmount(){this.serverRequest.abort()},render:function render(){if(this.state.data==undefined){return React.createElement("div",null)}else{var k=this.state.data.length;var g=[];for(var f=0;f<k;f++){var c=f==0?"active":"";var e="carouselIndicatorsKeyId"+f;g.push(React.createElement("li",{"data-target":"#carousel-example-generic","data-slide-to":f,className:c,key:e}))}var a=[];for(var f=0;f<k;f++){var d=f==0?"item active":"item";var h="carouselInnerParentDivId"+f;var b="carouselInnerImageId"+f;var l="carouselInnerDivId"+f;var n="carouselInnerNewsBg"+f;var m="carouselInnerBlackOverlay"+f;var j={background:'url("'+this.state.data[f].image+'")'};a.push(React.createElement("div",{className:d,key:h},React.createElement("img",{src:"images/spacer.png",height:"100%",width:"100%",key:b}),React.createElement("div",{key:l},React.createElement("div",{id:"newsBg",style:j,key:n}),React.createElement("div",{id:"blackOverlay",key:m}))))}return React.createElement("div",null,React.createElement("div",{id:"carousel-example-generic",className:"carousel slide","data-ride":"carousel","data-interval":"false"},React.createElement("ol",{className:"carousel-indicators"},g),React.createElement("div",{className:"carousel-inner",role:"listbox"},a)),React.createElement(NewsBox,{data:this.state.data}))}}});var NewsBox=React.createClass({displayName:"NewsBox",getPreviousData:function getPreviousData(){var a=this.state.index-1;a=a<0?this.props.data.length-1:a;this.setState({index:a,currentData:this.props.data[a]})},getNextData:function getNextData(){var a=this.state.index+1;a=a==this.props.data.length?0:a;this.setState({index:a,currentData:this.props.data[a]})},getInitialState:function getInitialState(){return{index:0,currentData:this.props.data[0]}},render:function render(){return React.createElement("div",null,React.createElement("div",{id:"newsFg"},React.createElement("table",{id:"news"},React.createElement("colgroup",null,React.createElement("col",{width:"15px"}),React.createElement("col",{width:"auto"}),React.createElement("col",{width:"15px"})),React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",null),React.createElement("td",{id:"logoRow"},React.createElement("img",{src:"images/logoTfMed.png"})),React.createElement("td",null)),React.createElement("tr",{id:"newsSection"},React.createElement("td",null,React.createElement("span",{className:"glyphicon glyphicon-chevron-left glyphicon-padding","aria-hidden":"true"})),React.createElement("td",{id:"newsRow"},React.createElement("div",null,React.createElement("span",{id:"newsTitle"},this.state.currentData.title),React.createElement("br",null),React.createElement("span",{id:"newsSrc"},this.state.currentData.newsSrc),React.createElement("span",{id:"newsDate"}," - ",dateCooked(this.state.currentData.pubDate)),React.createElement("br",null),React.createElement("span",{id:"newsBody"},this.state.currentData.description),React.createElement("br",null),React.createElement("span",{id:"apiProvider"},React.createElement("img",{src:"images/brandBing.png"})))),React.createElement("td",null,React.createElement("span",{className:"glyphicon glyphicon-chevron-right glyphicon-padding","aria-hidden":"true"})))))),React.createElement("a",{className:"left carousel-control",href:"#carousel-example-generic",role:"button","data-slide":"prev",onClick:this.getPreviousData}),React.createElement("a",{className:"right carousel-control",href:"#carousel-example-generic",role:"button","data-slide":"next",onClick:this.getNextData}))}});ReactDOM.render(React.createElement(TableBox,{url:backendURL}),document.getElementById("content"));
